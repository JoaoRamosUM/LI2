\hypertarget{logica_8h}{}\doxysection{Referência ao ficheiro logica.\+h}
\label{logica_8h}\index{logica.h@{logica.h}}
{\ttfamily \#include \char`\"{}dados.\+h\char`\"{}}\newline
\doxysubsection*{Funções}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} c)
\begin{DoxyCompactList}\small\item\em Função que usa os dados do estado e do input do jogador para fazer a jogada. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}{jogada\+\_\+possivel}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} c)
\begin{DoxyCompactList}\small\item\em Função que verifica se a jogada é possivel. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}{jogo\+\_\+terminado}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Verifica se o jogo terminou. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descrição detalhada}
Definição da camada logica. 

\doxysubsection{Documentação das funções}
\mbox{\Hypertarget{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}\label{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}} 
\index{logica.h@{logica.h}!jogada\_possivel@{jogada\_possivel}}
\index{jogada\_possivel@{jogada\_possivel}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jogada\_possivel()}{jogada\_possivel()}}
{\footnotesize\ttfamily int jogada\+\_\+possivel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{\mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}}]{c }\end{DoxyParamCaption})}



Função que verifica se a jogada é possivel. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
{\em c} & Coordenada introduzida pelo utilizador. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
0 Caso nao seja possivel, 1 caso seja possivel. 
\end{DoxyReturn}


Definido na linha 49 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{49                                               \{}
\DoxyCodeLine{50     \textcolor{keywordflow}{if} (obter\_estado\_casa(e,c) == BRANCA || obter\_estado\_casa(e,c) == PRETA ||}
\DoxyCodeLine{51     abs((e-\/>ultima\_jogada.linha) -\/ (c.linha)) > 1 || abs((e-\/>ultima\_jogada.coluna) -\/ (c.coluna)) > 1) \{}
\DoxyCodeLine{52         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{53     \}}
\DoxyCodeLine{54     \textcolor{keywordflow}{else} \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{55 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}\label{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}} 
\index{logica.h@{logica.h}!jogar@{jogar}}
\index{jogar@{jogar}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jogar()}{jogar()}}
{\footnotesize\ttfamily int jogar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{\mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}}]{c }\end{DoxyParamCaption})}



Função que usa os dados do estado e do input do jogador para fazer a jogada. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
{\em c} & Coordenada introduzida pelo utilizador. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Um novo estado atualizado conforme a jogada. 
\end{DoxyReturn}


Definido na linha 6 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{6                                    \{}
\DoxyCodeLine{7     \textcolor{keywordtype}{int} lin = c.linha;}
\DoxyCodeLine{8     \textcolor{keywordtype}{int} col = c.coluna;}
\DoxyCodeLine{9     \textcolor{keywordtype}{int} jog = obter\_jogador\_atual(e);}
\DoxyCodeLine{10     \textcolor{keywordtype}{int} jogadas = obter\_numero\_de\_jogadas(e);}
\DoxyCodeLine{11 }
\DoxyCodeLine{12     \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}{jogada\_possivel}}(e,c) == 1) \{}
\DoxyCodeLine{13         \textcolor{comment}{//Coloca a peça na posição pedida pelo utilizador.}}
\DoxyCodeLine{14         e-\/>tab[lin][col] = BRANCA;}
\DoxyCodeLine{15         \textcolor{comment}{//Coloca uma peça preta na casa anterior da peça branca.}}
\DoxyCodeLine{16         e-\/>tab[(e-\/>ultima\_jogada).linha][(e-\/>ultima\_jogada).coluna] = PRETA;}
\DoxyCodeLine{17         \textcolor{comment}{//Coloca a nova posição da peça branca como posição anterior para ser usada futuramente.}}
\DoxyCodeLine{18         e-\/>ultima\_jogada.coluna = col;}
\DoxyCodeLine{19         e-\/>ultima\_jogada.linha = lin;}
\DoxyCodeLine{20 }
\DoxyCodeLine{21         \textcolor{comment}{//Determinar se foi o jogador 1 ou 2 a jogar, e, consoante isto, coloca na array "jogadas" as informações correspondentes.}}
\DoxyCodeLine{22         \textcolor{keywordflow}{if} (jog == 1) \{}
\DoxyCodeLine{23             e-\/>jogadas[jogadas].jogador1.linha = lin;}
\DoxyCodeLine{24             e-\/>jogadas[jogadas].jogador1.coluna = col;}
\DoxyCodeLine{25         \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{26             e-\/>jogadas[jogadas].jogador2.linha = lin;}
\DoxyCodeLine{27             e-\/>jogadas[jogadas].jogador2.coluna = col;}
\DoxyCodeLine{28         \}}
\DoxyCodeLine{29         \textcolor{keywordflow}{if} (jog == 1)}
\DoxyCodeLine{30             e-\/>jogador\_atual = 2;}
\DoxyCodeLine{31         \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{32             e-\/>jogador\_atual = 1;}
\DoxyCodeLine{33             \textcolor{comment}{//Incrementa o numero de jogadas.}}
\DoxyCodeLine{34             e-\/>num\_jogadas++;}
\DoxyCodeLine{35         \}}
\DoxyCodeLine{36         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{37     \}}
\DoxyCodeLine{38     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{39         \textcolor{keywordflow}{while} (\mbox{\hyperlink{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}{jogada\_possivel}}(e,c) == 0)\{}
\DoxyCodeLine{40             printf(\textcolor{stringliteral}{"Jogada Invalida.\(\backslash\)n"});}
\DoxyCodeLine{41             \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{42         \}}
\DoxyCodeLine{43 }
\DoxyCodeLine{44     \}}
\DoxyCodeLine{45     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{46 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}\label{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}} 
\index{logica.h@{logica.h}!jogo\_terminado@{jogo\_terminado}}
\index{jogo\_terminado@{jogo\_terminado}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jogo\_terminado()}{jogo\_terminado()}}
{\footnotesize\ttfamily int jogo\+\_\+terminado (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Verifica se o jogo terminou. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso o jogador 1 ganhe, 2 caso o jogador ganhe, 0 caso ainda ninguem tenha ganho. 
\end{DoxyReturn}


Definido na linha 58 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{58                                \{}
\DoxyCodeLine{59     \textcolor{keywordtype}{int} r = 0;}
\DoxyCodeLine{60     \textcolor{keywordflow}{if} (e -\/> num\_jogadas == 32 || (e-\/>ultima\_jogada.coluna == 0 \&\& e-\/>ultima\_jogada.linha == 7))}
\DoxyCodeLine{61         r = 1;}
\DoxyCodeLine{62     \textcolor{keywordflow}{else}}
\DoxyCodeLine{63         \textcolor{keywordflow}{if} ( e-\/> num\_jogadas == 32 || (e -\/>ultima\_jogada.linha == 0 \&\& e-\/>ultima\_jogada.coluna == 7))}
\DoxyCodeLine{64             r = 2;}
\DoxyCodeLine{65     \textcolor{keywordflow}{else}}
\DoxyCodeLine{66         r = 0;}
\DoxyCodeLine{67 }
\DoxyCodeLine{68     \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{69 \}}

\end{DoxyCode}
