\hypertarget{logica_8h}{}\doxysection{Referência ao ficheiro logica.\+h}
\label{logica_8h}\index{logica.h@{logica.h}}
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include \char`\"{}dados.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}lista.\+h\char`\"{}}\newline
\doxysubsection*{Funções}
\begin{DoxyCompactItemize}
\item 
int \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} c)
\begin{DoxyCompactList}\small\item\em Função que usa os dados do estado e do input do jogador para fazer a jogada. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}{jogada\+\_\+possivel}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} c)
\begin{DoxyCompactList}\small\item\em Função que verifica se a jogada é possivel. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}{jogo\+\_\+terminado}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Verifica se o jogo terminou. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a1e08ddaa296db25866c21b3ea2a9c106}{encurralado}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Verifica se a peça está encurralada. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a9065d2c25c9052ce1f7f5e1d6272dd6e}{check\+\_\+around}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Verifica se todas as casas a volta da peça branca estao preenchidas com peças pretas. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_ada698c3adcce8d5c33d10004ebfac7f5}{check\+\_\+lados}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Verifica todas as casas a volta da peca branca caso se encontre em col == 0 ou col == 7. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_ad83373f532ddf59ddedb25a40b575626}{check\+\_\+bottom}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Verifica todas as casas a volta da peça branca caso se encontre em lin == 0 ou lin == 7;. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logica_8h_ab69d463df342757a679a40c4f6e5d6ae}{tabuleiro\+\_\+ficheiro}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, char $\ast$linha)
\begin{DoxyCompactList}\small\item\em Coloca o tabuleiro e o estado do jogo num ficheiro. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logica_8h_a9cf19fce71c78359807a3f579925edbb}{atualiza\+\_\+jogada}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, int col, int lin)
\begin{DoxyCompactList}\small\item\em Função (auxiliar) que atualiza os dados de forma a que a jogada fique realizada. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_ac272f234a6e3ed2b2e3c05c727e33c75}{ler\+\_\+ficheiro}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, char linha\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Lê um ficheiro e atualiza o estado do jogo com o estado do jogo definido nesse ficheiro. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logica_8h_abadfdc02ae37afa3fc371a15c0090e61}{ler\+\_\+tab}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, char $\ast$linha)
\begin{DoxyCompactList}\small\item\em Função que atualiza os dados do jogo ao ler o ficheiro. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a224bb3db996c2f3baca3a72b8509c3ce}{retira\+\_\+linha}} (char str\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Converte a string no formato de dados do ficheiro criado pelo utilizador para um inteiro correspondente à linha. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a00a35418e9e9a6c215b653dceb822a03}{retira\+\_\+coluna}} (char str\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Converte a string no formato de dados do ficheiro criado pelo utilizador para um inteiro correspondente à coluna. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_aec4a963a88af44348027ec7cf17ff47a}{pos}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, char $\ast$linha)
\begin{DoxyCompactList}\small\item\em Função para executar o comando \char`\"{}pos\char`\"{}. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} \mbox{\hyperlink{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}{get\+\_\+cords}} (char $\ast$str)
\item 
int \mbox{\hyperlink{logica_8h_a2b0f98e3493bc14d0f07d5ba5790c3bb}{scores}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Atribui uma pontuação a cada uma das casas do tabuleiro. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Função para o comando jog, joga em uma posição disponível aleatória. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logica_8h_a1e4ba81358ad3fcb728e87199de3ce32}{best\+Move}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e)
\begin{DoxyCompactList}\small\item\em Função que invoca o minimax para decidir qual é a melhor jogada a realizar. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a87984bf05c623849f7e349ba8060ebdd}{negamax}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, int depth, int player)
\begin{DoxyCompactList}\small\item\em Variação do algoritmo \char`\"{}minimax\char`\"{}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logica_8h_a0d0ae42af34190215d0219bc3230873b}{check\+\_\+vencedora}} (\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$e, \mbox{\hyperlink{structnodo}{L\+I\+S\+TA}} L)
\begin{DoxyCompactList}\small\item\em Verifica se o jogador se encontra na possibilidade de fazer uma jogada vencedora. \end{DoxyCompactList}\item 
\mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} \mbox{\hyperlink{logica_8h_a269576c01f83872ee667e982ab409612}{get\+\_\+vencedor}} (\mbox{\hyperlink{structnodo}{L\+I\+S\+TA}} L)
\begin{DoxyCompactList}\small\item\em Caso exista uma jogada vencedora, obtem esta jogada. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Descrição detalhada}
Definição da camada logica. 

\doxysubsection{Documentação das funções}
\mbox{\Hypertarget{logica_8h_a9cf19fce71c78359807a3f579925edbb}\label{logica_8h_a9cf19fce71c78359807a3f579925edbb}} 
\index{logica.h@{logica.h}!atualiza\_jogada@{atualiza\_jogada}}
\index{atualiza\_jogada@{atualiza\_jogada}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{atualiza\_jogada()}{atualiza\_jogada()}}
{\footnotesize\ttfamily void atualiza\+\_\+jogada (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{int}]{col,  }\item[{int}]{lin }\end{DoxyParamCaption})}



Função (auxiliar) que atualiza os dados de forma a que a jogada fique realizada. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
{\em col} & posição da coluna. \\
\hline
{\em lin} & posição da linha. \\
\hline
\end{DoxyParams}
\begin{quote}
Determina se foi o jogador 1 ou 2 a jogar, e, consoante isto, coloca na array \char`\"{}jogadas\char`\"{} as informações correspondentes. \end{quote}


\begin{quote}
Incrementa o numero de jogadas. \end{quote}


Definido na linha 87 do ficheiro dados.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{87                                                    \{}
\DoxyCodeLine{88     \textcolor{keywordtype}{int} \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}} = \mbox{\hyperlink{dados_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}}(e);}
\DoxyCodeLine{89     \textcolor{keywordtype}{int} jogadas = \mbox{\hyperlink{dados_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}}(e);}
\DoxyCodeLine{91     \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}} == 1) \{}
\DoxyCodeLine{92         e-\/>jogadas[jogadas].jogador1.linha = lin;}
\DoxyCodeLine{93         e-\/>jogadas[jogadas].jogador1.coluna = col;}
\DoxyCodeLine{94     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{95         e-\/>jogadas[jogadas].jogador2.linha = lin;}
\DoxyCodeLine{96         e-\/>jogadas[jogadas].jogador2.coluna = col;}
\DoxyCodeLine{97     \}}
\DoxyCodeLine{98     \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}} == 1)}
\DoxyCodeLine{99         e-\/>jogador\_atual = 2;}
\DoxyCodeLine{100     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{101         e-\/>jogador\_atual = 1;}
\DoxyCodeLine{103         \textcolor{keywordflow}{if} (e-\/>num\_jogadas >= e-\/>max\_num\_jogadas) \{}
\DoxyCodeLine{104             e-\/>num\_jogadas++;}
\DoxyCodeLine{105             e-\/>max\_num\_jogadas++;}
\DoxyCodeLine{106         \}}
\DoxyCodeLine{107         \textcolor{keywordflow}{else}}
\DoxyCodeLine{108             e-\/>num\_jogadas++;}
\DoxyCodeLine{109     \}}
\DoxyCodeLine{110 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a1e4ba81358ad3fcb728e87199de3ce32}\label{logica_8h_a1e4ba81358ad3fcb728e87199de3ce32}} 
\index{logica.h@{logica.h}!bestMove@{bestMove}}
\index{bestMove@{bestMove}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{bestMove()}{bestMove()}}
{\footnotesize\ttfamily void best\+Move (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Função que invoca o minimax para decidir qual é a melhor jogada a realizar. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{quote}
Invoca o minimax com player = 1 caso seja o jogador 1 a jogar, e player = -\/1 caso seja o jogador 2. \end{quote}


Definido na linha 285 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{285                           \{}
\DoxyCodeLine{286     \textcolor{keywordtype}{int} bestScore = INT\_MIN, score, atual = \mbox{\hyperlink{dados_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}}(e);}
\DoxyCodeLine{287     \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} best\_jogada;}
\DoxyCodeLine{288     \mbox{\hyperlink{structnodo}{LISTA}} L =  \mbox{\hyperlink{lista_8h_ae3b99323b6f8f35d80bb69ff1a27985e}{criar\_lista}}();}
\DoxyCodeLine{289     L = \mbox{\hyperlink{lista_8h_a0b56764e73eb24ca541210236e5ee307}{add\_livres}}(e, L);}
\DoxyCodeLine{291     \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a0d0ae42af34190215d0219bc3230873b}{check\_vencedora}}(e, L) != 1) \{}
\DoxyCodeLine{292         \textcolor{keywordflow}{while} (\mbox{\hyperlink{lista_8h_a4c10928f7acaa4e3de3760cea0dfd9c0}{lista\_esta\_vazia}}(L) != 1) \{}
\DoxyCodeLine{293             \textcolor{keywordtype}{char} *str = (\textcolor{keywordtype}{char} *) \mbox{\hyperlink{lista_8h_abfcb205f3eb670157be0d1221021714b}{devolve\_cabeca}}(L);}
\DoxyCodeLine{294             \textcolor{keywordflow}{if} (strncmp(str, \textcolor{stringliteral}{"7 0"}, 3) != 0) \{}
\DoxyCodeLine{295                 \mbox{\hyperlink{struct_e_s_t_a_d_o}{ESTADO}} *aux = \mbox{\hyperlink{dados_8h_a7e0c7e26fb685d9ab501e19b05e6954f}{inicializar\_estado}}();}
\DoxyCodeLine{296                 \mbox{\hyperlink{dados_8h_a3815d005d1762c547d70d3198048e7d3}{copyStruct}}(e, aux);}
\DoxyCodeLine{297                 \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}} = \mbox{\hyperlink{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}{get\_cords}}(str);}
\DoxyCodeLine{298                 \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(aux, \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}});}
\DoxyCodeLine{299                 \textcolor{keywordflow}{if} (atual == 1)}
\DoxyCodeLine{300                     score = \mbox{\hyperlink{logica_8h_a87984bf05c623849f7e349ba8060ebdd}{negamax}}(aux, 5, 1);}
\DoxyCodeLine{301                 \textcolor{keywordflow}{else}}
\DoxyCodeLine{302                     score = \mbox{\hyperlink{logica_8h_a87984bf05c623849f7e349ba8060ebdd}{negamax}}(aux, 5, -\/1);}
\DoxyCodeLine{303                 free(aux);}
\DoxyCodeLine{304                 \textcolor{keywordflow}{if} (score > bestScore) \{}
\DoxyCodeLine{305                     bestScore = score;}
\DoxyCodeLine{306                     best\_jogada = \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}};}
\DoxyCodeLine{307                 \}}
\DoxyCodeLine{308             \}}
\DoxyCodeLine{309             L = \mbox{\hyperlink{lista_8h_a9026a681a68322b5ec7f07137b864cbd}{remove\_cabeca}}(L);}
\DoxyCodeLine{310         \}}
\DoxyCodeLine{311     \}}
\DoxyCodeLine{312     \textcolor{keywordflow}{else}}
\DoxyCodeLine{313         best\_jogada = \mbox{\hyperlink{logica_8h_a269576c01f83872ee667e982ab409612}{get\_vencedor}}(L);}
\DoxyCodeLine{314 }
\DoxyCodeLine{315     \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(e, best\_jogada);}
\DoxyCodeLine{316 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a9065d2c25c9052ce1f7f5e1d6272dd6e}\label{logica_8h_a9065d2c25c9052ce1f7f5e1d6272dd6e}} 
\index{logica.h@{logica.h}!check\_around@{check\_around}}
\index{check\_around@{check\_around}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{check\_around()}{check\_around()}}
{\footnotesize\ttfamily int check\+\_\+around (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Verifica se todas as casas a volta da peça branca estao preenchidas com peças pretas. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso a peca esteja encurralada, 0 caso nao esteja. 
\end{DoxyReturn}


Definido na linha 78 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{78                              \{}
\DoxyCodeLine{79     \textcolor{keywordtype}{int} col = \mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e), lin = \mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e);}
\DoxyCodeLine{80     \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col + 1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col+1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col) == PRETA \&\&}
\DoxyCodeLine{81     \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col+1) == PRETA}
\DoxyCodeLine{82     \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col-\/1) == PRETA)}
\DoxyCodeLine{83         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{84     \textcolor{keywordflow}{else}}
\DoxyCodeLine{85         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{86 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_ad83373f532ddf59ddedb25a40b575626}\label{logica_8h_ad83373f532ddf59ddedb25a40b575626}} 
\index{logica.h@{logica.h}!check\_bottom@{check\_bottom}}
\index{check\_bottom@{check\_bottom}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{check\_bottom()}{check\_bottom()}}
{\footnotesize\ttfamily int check\+\_\+bottom (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Verifica todas as casas a volta da peça branca caso se encontre em lin == 0 ou lin == 7;. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso a peça esteja encurralada. 
\end{DoxyReturn}


Definido na linha 103 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{103                             \{}
\DoxyCodeLine{104     \textcolor{keywordtype}{int} col = \mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e), lin = \mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e);}
\DoxyCodeLine{105     \textcolor{keywordflow}{if} (lin == 0) \{}
\DoxyCodeLine{106         \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col+1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col+1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col) == PRETA}
\DoxyCodeLine{107         \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1,col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col-\/1) == PRETA)}
\DoxyCodeLine{108             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{109     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{110         \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1,col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col) == PRETA \&\&}
\DoxyCodeLine{111         \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col+1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col+1) == PRETA)}
\DoxyCodeLine{112             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{113     \}}
\DoxyCodeLine{114     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{115 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_ada698c3adcce8d5c33d10004ebfac7f5}\label{logica_8h_ada698c3adcce8d5c33d10004ebfac7f5}} 
\index{logica.h@{logica.h}!check\_lados@{check\_lados}}
\index{check\_lados@{check\_lados}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{check\_lados()}{check\_lados()}}
{\footnotesize\ttfamily int check\+\_\+lados (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Verifica todas as casas a volta da peca branca caso se encontre em col == 0 ou col == 7. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso a peca esteja encurralada. 
\end{DoxyReturn}


Definido na linha 88 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{88                             \{}
\DoxyCodeLine{89     \textcolor{keywordtype}{int} col = \mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e), lin = \mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e);}
\DoxyCodeLine{90     \textcolor{keywordflow}{if} (col == 0) \{}
\DoxyCodeLine{91         \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin -\/ 1, col + 1) == PRETA \&\&}
\DoxyCodeLine{92             \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col + 1) == PRETA \&\&}
\DoxyCodeLine{93             \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin + 1, col + 1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin + 1, col) == PRETA)}
\DoxyCodeLine{94             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{95     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{96         \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col-\/1) == PRETA \&\&}
\DoxyCodeLine{97         \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1,col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1,col) == PRETA)}
\DoxyCodeLine{98             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{99     \}}
\DoxyCodeLine{100     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{101 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a0d0ae42af34190215d0219bc3230873b}\label{logica_8h_a0d0ae42af34190215d0219bc3230873b}} 
\index{logica.h@{logica.h}!check\_vencedora@{check\_vencedora}}
\index{check\_vencedora@{check\_vencedora}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{check\_vencedora()}{check\_vencedora()}}
{\footnotesize\ttfamily int check\+\_\+vencedora (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{\mbox{\hyperlink{structnodo}{L\+I\+S\+TA}}}]{L }\end{DoxyParamCaption})}



Verifica se o jogador se encontra na possibilidade de fazer uma jogada vencedora. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
{\em L} & Lista com posições possiveis. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso exista uma jogada vencedora. 
\end{DoxyReturn}


Definido na linha 345 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{345                                          \{}
\DoxyCodeLine{346     \mbox{\hyperlink{structnodo}{LISTA}} T;}
\DoxyCodeLine{347     \textcolor{keywordtype}{int} atual = \mbox{\hyperlink{dados_8h_ad6e326e4ffa57ca1ae0c75377ecefc8c}{obter\_jogador\_atual}}(e);}
\DoxyCodeLine{348     \textcolor{keywordflow}{for} (T = L; !\mbox{\hyperlink{lista_8h_a4c10928f7acaa4e3de3760cea0dfd9c0}{lista\_esta\_vazia}}(T); T = \mbox{\hyperlink{lista_8h_ad9380152361127432c55c1c6067e05ae}{proximo}}(T)) \{}
\DoxyCodeLine{349         \textcolor{keywordtype}{char} *str = (\textcolor{keywordtype}{char} *) \mbox{\hyperlink{lista_8h_abfcb205f3eb670157be0d1221021714b}{devolve\_cabeca}}(T);}
\DoxyCodeLine{350         \textcolor{keywordflow}{if} (strncmp (str,\textcolor{stringliteral}{"7 0"}, 3) == 0 \&\& atual == 1)}
\DoxyCodeLine{351             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{352     \}}
\DoxyCodeLine{353     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{354 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a1e08ddaa296db25866c21b3ea2a9c106}\label{logica_8h_a1e08ddaa296db25866c21b3ea2a9c106}} 
\index{logica.h@{logica.h}!encurralado@{encurralado}}
\index{encurralado@{encurralado}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{encurralado()}{encurralado()}}
{\footnotesize\ttfamily int encurralado (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Verifica se a peça está encurralada. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso esteja encurralada, 0 caso nao esteja. 
\end{DoxyReturn}
\begin{quote}
Verifica primeiro se a peça está num dos cantos do tabuleiro, e, caso esteja, verifica se está encurralada. \end{quote}


\begin{quote}
Caso nao esteja em um dos cantos, chama a função \char`\"{}check\+\_\+around()\char`\"{} para verificar se está ou nao encurralada. \end{quote}


Definido na linha 52 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{52                            \{}
\DoxyCodeLine{53     \textcolor{keywordtype}{int} col = \mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e), lin = \mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e);}
\DoxyCodeLine{55     \textcolor{keywordflow}{if} (col == 0 \&\& lin == 0) \{}
\DoxyCodeLine{56         \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col + 1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col+1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin+1, col) == PRETA)}
\DoxyCodeLine{57             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{58     \}}
\DoxyCodeLine{59     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (col == 7 \&\& lin == 7) \{}
\DoxyCodeLine{60         \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin, col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col-\/1) == PRETA \&\& \mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, lin-\/1, col) == PRETA)}
\DoxyCodeLine{61             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{62     \}}
\DoxyCodeLine{63     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (col == 0 || col == 7) \{}
\DoxyCodeLine{64         \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_ada698c3adcce8d5c33d10004ebfac7f5}{check\_lados}}(e) == 1)}
\DoxyCodeLine{65             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{66     \}}
\DoxyCodeLine{67     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (lin == 0 || lin == 7)\{}
\DoxyCodeLine{68         \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_ad83373f532ddf59ddedb25a40b575626}{check\_bottom}}(e) == 1)}
\DoxyCodeLine{69             \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{70     \}}
\DoxyCodeLine{72     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a9065d2c25c9052ce1f7f5e1d6272dd6e}{check\_around}}(e) == 1)}
\DoxyCodeLine{73         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{74 }
\DoxyCodeLine{75     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{76 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}\label{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}} 
\index{logica.h@{logica.h}!get\_cords@{get\_cords}}
\index{get\_cords@{get\_cords}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{get\_cords()}{get\_cords()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} get\+\_\+cords (\begin{DoxyParamCaption}\item[{char $\ast$}]{str }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parâmetros}
{\em str} & \\
\hline
{\em cords} & \\
\hline
\end{DoxyParams}


Definido na linha 233 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{233                                 \{}
\DoxyCodeLine{234     \textcolor{keywordtype}{char} *end;}
\DoxyCodeLine{235     \textcolor{keywordtype}{int} col, lin;}
\DoxyCodeLine{236     lin = strtol(str, \&end,  10);}
\DoxyCodeLine{237     col = strtol(end,  \&end,10);}
\DoxyCodeLine{238     \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} cord = \{col, abs(lin-\/8)-\/1\};}
\DoxyCodeLine{239     \textcolor{keywordflow}{return} cord;}
\DoxyCodeLine{240 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a269576c01f83872ee667e982ab409612}\label{logica_8h_a269576c01f83872ee667e982ab409612}} 
\index{logica.h@{logica.h}!get\_vencedor@{get\_vencedor}}
\index{get\_vencedor@{get\_vencedor}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{get\_vencedor()}{get\_vencedor()}}
{\footnotesize\ttfamily \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}} get\+\_\+vencedor (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structnodo}{L\+I\+S\+TA}}}]{L }\end{DoxyParamCaption})}



Caso exista uma jogada vencedora, obtem esta jogada. 


\begin{DoxyParams}{Parâmetros}
{\em L} & Lista de jogadas possiveis. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
As coordenadas da jogada vencedora. 
\end{DoxyReturn}


Definido na linha 356 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{356                                  \{}
\DoxyCodeLine{357     \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} jogada = \{0,0\};}
\DoxyCodeLine{358     \textcolor{keywordflow}{while} (\mbox{\hyperlink{lista_8h_a4c10928f7acaa4e3de3760cea0dfd9c0}{lista\_esta\_vazia}}(L) != 1) \{}
\DoxyCodeLine{359         \textcolor{keywordtype}{char} *str = (\textcolor{keywordtype}{char} *) \mbox{\hyperlink{lista_8h_abfcb205f3eb670157be0d1221021714b}{devolve\_cabeca}}(L);}
\DoxyCodeLine{360         \textcolor{keywordflow}{if} (strncmp(str, \textcolor{stringliteral}{"7 0"}, 3) == 0) \{}
\DoxyCodeLine{361             jogada = \mbox{\hyperlink{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}{get\_cords}}(str);}
\DoxyCodeLine{362             \textcolor{keywordflow}{break};}
\DoxyCodeLine{363         \}}
\DoxyCodeLine{364         L = \mbox{\hyperlink{lista_8h_a9026a681a68322b5ec7f07137b864cbd}{remove\_cabeca}}(L);}
\DoxyCodeLine{365     \}}
\DoxyCodeLine{366     \textcolor{keywordflow}{return} jogada;}
\DoxyCodeLine{367 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}\label{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}} 
\index{logica.h@{logica.h}!jog@{jog}}
\index{jog@{jog}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jog()}{jog()}}
{\footnotesize\ttfamily void jog (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Função para o comando jog, joga em uma posição disponível aleatória. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{quote}
Adiciona na lista ligada todas as casas para onde é possivel jogar. \end{quote}


\begin{quote}
Calcula a length da lista e gera um numero aleatorio entre 0 e o length-\/1. \end{quote}


\begin{quote}
Tendo em conta o numero aleatorio gerado pela função rand(), joga com as coordenadas na posição aleatoria da lista. \end{quote}


Definido na linha 263 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{263                      \{}
\DoxyCodeLine{265     \mbox{\hyperlink{structnodo}{LISTA}} L = \mbox{\hyperlink{lista_8h_ae3b99323b6f8f35d80bb69ff1a27985e}{criar\_lista}}();}
\DoxyCodeLine{266     L = \mbox{\hyperlink{lista_8h_a0b56764e73eb24ca541210236e5ee307}{add\_livres}}(e, L);}
\DoxyCodeLine{267     \textcolor{keywordflow}{for}(\mbox{\hyperlink{structnodo}{LISTA}} K = L; \mbox{\hyperlink{lista_8h_a4c10928f7acaa4e3de3760cea0dfd9c0}{lista\_esta\_vazia}}(K) != 1; K = \mbox{\hyperlink{lista_8h_ad9380152361127432c55c1c6067e05ae}{proximo}}(K)) \{}
\DoxyCodeLine{268         \textcolor{keywordtype}{char} *str = (\textcolor{keywordtype}{char}*)\mbox{\hyperlink{lista_8h_abfcb205f3eb670157be0d1221021714b}{devolve\_cabeca}}(K);}
\DoxyCodeLine{269         printf(\textcolor{stringliteral}{"\%s\(\backslash\)n"}, str);}
\DoxyCodeLine{270     \}}
\DoxyCodeLine{271     \mbox{\hyperlink{structnodo}{LISTA}} T = L;}
\DoxyCodeLine{273     \textcolor{keywordtype}{int} length = \mbox{\hyperlink{lista_8h_afbf1fd7cbee0a00eef9742a686e60c93}{lengthLista}}(L);}
\DoxyCodeLine{274     \textcolor{keywordtype}{int} random = rand() \% length;}
\DoxyCodeLine{275     \textcolor{keywordtype}{char} *str;}
\DoxyCodeLine{277     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < random; i++)}
\DoxyCodeLine{278         T = \mbox{\hyperlink{lista_8h_ad9380152361127432c55c1c6067e05ae}{proximo}}(T);}
\DoxyCodeLine{279     str = (\textcolor{keywordtype}{char}*) \mbox{\hyperlink{lista_8h_abfcb205f3eb670157be0d1221021714b}{devolve\_cabeca}}(T);}
\DoxyCodeLine{280     \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}} = \mbox{\hyperlink{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}{get\_cords}}(str);}
\DoxyCodeLine{281     \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(e, \mbox{\hyperlink{logica_8h_a9dfbc982d23a619e36575d8e7ec8e41c}{jog}});}
\DoxyCodeLine{282     \mbox{\hyperlink{lista_8h_a9cb229685e08e4b8706349624d2091a8}{freeLista}}(L);}
\DoxyCodeLine{283 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}\label{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}} 
\index{logica.h@{logica.h}!jogada\_possivel@{jogada\_possivel}}
\index{jogada\_possivel@{jogada\_possivel}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jogada\_possivel()}{jogada\_possivel()}}
{\footnotesize\ttfamily int jogada\+\_\+possivel (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{\mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}}]{c }\end{DoxyParamCaption})}



Função que verifica se a jogada é possivel. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
{\em c} & Coordenada introduzida pelo utilizador. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
0 Caso nao seja possivel, 1 caso seja possivel. 
\end{DoxyReturn}


Definido na linha 26 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{26                                               \{}
\DoxyCodeLine{27     \textcolor{keywordtype}{int} lin = abs(c.linha -\/ 8) -\/ 1;}
\DoxyCodeLine{28     \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_a6faa68373203923729ed38657aa0f768}{obter\_estado\_casa}}(e,c) == BRANCA || \mbox{\hyperlink{dados_8h_a6faa68373203923729ed38657aa0f768}{obter\_estado\_casa}}(e,c) == PRETA ||}
\DoxyCodeLine{29     abs((\mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e)) -\/ lin) > 1 || abs((\mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e)) -\/ (c.coluna)) > 1}
\DoxyCodeLine{30     || lin > 7  || lin < 0 || c.coluna >  7 || c.coluna < 0)}
\DoxyCodeLine{31         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{32     \textcolor{keywordflow}{else}}
\DoxyCodeLine{33         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{34 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}\label{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}} 
\index{logica.h@{logica.h}!jogar@{jogar}}
\index{jogar@{jogar}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jogar()}{jogar()}}
{\footnotesize\ttfamily int jogar (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{\mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{C\+O\+O\+R\+D\+E\+N\+A\+DA}}}]{c }\end{DoxyParamCaption})}



Função que usa os dados do estado e do input do jogador para fazer a jogada. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
{\em c} & Coordenada introduzida pelo utilizador. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Um novo estado atualizado conforme a jogada. 
\end{DoxyReturn}
\begin{quote}
Coloca a nova posição da peça branca como posição anterior para ser usada futuramente. \end{quote}


Definido na linha 12 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{12                                    \{}
\DoxyCodeLine{13     \textcolor{keywordtype}{int} lin = abs(c.linha -\/ 8) -\/ 1;}
\DoxyCodeLine{14     \textcolor{keywordtype}{int} col = c.coluna;}
\DoxyCodeLine{15     \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a97c7ad5b7c6b698beca8006e674b85da}{jogada\_possivel}}(e, c) == 1) \{}
\DoxyCodeLine{16         \mbox{\hyperlink{dados_8h_a255c5b67db14c05fd537e095a75d8720}{update\_tab}}(e, lin, col);}
\DoxyCodeLine{18         \mbox{\hyperlink{dados_8h_ac49fe72dd1f44d79705e0a76d124bedb}{set\_ultima\_jogada}}(e, lin, col);}
\DoxyCodeLine{19         \mbox{\hyperlink{dados_8h_a9cf19fce71c78359807a3f579925edbb}{atualiza\_jogada}}(e, col, lin);}
\DoxyCodeLine{20         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{21     \} \textcolor{keywordflow}{else}}
\DoxyCodeLine{22         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{23 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}\label{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}} 
\index{logica.h@{logica.h}!jogo\_terminado@{jogo\_terminado}}
\index{jogo\_terminado@{jogo\_terminado}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{jogo\_terminado()}{jogo\_terminado()}}
{\footnotesize\ttfamily int jogo\+\_\+terminado (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Verifica se o jogo terminou. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso o jogador 1 ganhe, 2 caso o jogador ganhe, 0 caso ainda ninguem tenha ganho, 3 caso as jogadas acabem, ou 4 caso a peça fique encurralada. 
\end{DoxyReturn}


Definido na linha 37 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{37                                \{}
\DoxyCodeLine{38     \textcolor{keywordtype}{int} r = 0;}
\DoxyCodeLine{39     \textcolor{keywordflow}{if} ((\mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e) == 0 \&\& \mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e) == 7))}
\DoxyCodeLine{40         r = 1;}
\DoxyCodeLine{41     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} ((\mbox{\hyperlink{dados_8h_ab2a81b236c1bcbdc1fe68e2544bd6c60}{ultima\_linha}}(e) == 0 \&\& \mbox{\hyperlink{dados_8h_a9ebe0ef029e67e3bf7e7a1faa2bb97c5}{ultima\_coluna}}(e) == 7))}
\DoxyCodeLine{42             r = 2;}
\DoxyCodeLine{43     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_a6cd0b387bdee9e18003c78852394aa63}{obter\_numero\_de\_jogadas}}(e) == 31)}
\DoxyCodeLine{44                 r = 3;}
\DoxyCodeLine{45     \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\mbox{\hyperlink{logica_8h_a1e08ddaa296db25866c21b3ea2a9c106}{encurralado}}(e) == 1)}
\DoxyCodeLine{46         r = 4;}
\DoxyCodeLine{47     \textcolor{keywordflow}{else}}
\DoxyCodeLine{48         r = 0;}
\DoxyCodeLine{49     \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{50 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_ac272f234a6e3ed2b2e3c05c727e33c75}\label{logica_8h_ac272f234a6e3ed2b2e3c05c727e33c75}} 
\index{logica.h@{logica.h}!ler\_ficheiro@{ler\_ficheiro}}
\index{ler\_ficheiro@{ler\_ficheiro}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{ler\_ficheiro()}{ler\_ficheiro()}}
{\footnotesize\ttfamily int ler\+\_\+ficheiro (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{char}]{linha\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Lê um ficheiro e atualiza o estado do jogo com o estado do jogo definido nesse ficheiro. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
{\em linha} & Linha obtida pela função \char`\"{}fgets()\char`\"{} no interpretador. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso consiga ler o ficheiro, 0 caso nao consiga. 
\end{DoxyReturn}
\begin{quote}
Copia o nome do ficheiro presente na string \char`\"{}linha\char`\"{} e coloca na string \char`\"{}comando\char`\"{}, e concatena \char`\"{}.\+txt\char`\"{} no final. \end{quote}


\begin{quote}
Abre o ficheiro pedido pelo utilizador e lê o seu conteúdo. \end{quote}


\begin{quote}
Ao ler o ficheiro, quando chega ao local onde se encontram as jogadas anteriores, chama a função \char`\"{}update\+\_\+array\+\_\+jogadas()\char`\"{}. \end{quote}


Definido na linha 134 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{134                                             \{}
\DoxyCodeLine{135 }
\DoxyCodeLine{136     FILE *fp;}
\DoxyCodeLine{137     \textcolor{keywordtype}{char} lin\_fich [BUF\_SIZE], *comando;}
\DoxyCodeLine{138     \textcolor{keywordtype}{int} k = 0;}
\DoxyCodeLine{139     \textcolor{keywordtype}{int} r = 0;}
\DoxyCodeLine{141     strtok(linha, \textcolor{stringliteral}{" "});}
\DoxyCodeLine{142     comando = strtok (NULL, \textcolor{stringliteral}{"\(\backslash\)n"});}
\DoxyCodeLine{144     \textcolor{comment}{//A função "access" retorna -\/1 caso nao encontre o ficheiro.}}
\DoxyCodeLine{145     \textcolor{keywordflow}{if} (access(comando, F\_OK) != -\/1) \{}
\DoxyCodeLine{146         \mbox{\hyperlink{dados_8h_a543f64d33cbc5f4c00ad7dc4e60d2105}{reinit}}(e);}
\DoxyCodeLine{147         \mbox{\hyperlink{dados_8h_ae9e7e8cc18ddfff4c1883b1ec4daa0b7}{reset\_max\_num\_jogadas}}(e);}
\DoxyCodeLine{148         fp = fopen(comando, \textcolor{stringliteral}{"r"});}
\DoxyCodeLine{149         \textcolor{keywordflow}{while} (fgets(lin\_fich, BUF\_SIZE, fp) != NULL) \{}
\DoxyCodeLine{151             \textcolor{keywordflow}{if} (k >= 9) \{}
\DoxyCodeLine{152                 \mbox{\hyperlink{logica_8h_abadfdc02ae37afa3fc371a15c0090e61}{ler\_tab}}(e, lin\_fich);}
\DoxyCodeLine{153             \}}
\DoxyCodeLine{154             k++;}
\DoxyCodeLine{155         \}}
\DoxyCodeLine{156         fclose(fp);}
\DoxyCodeLine{157         r = 1;}
\DoxyCodeLine{158     \}}
\DoxyCodeLine{159     \textcolor{keywordflow}{else}}
\DoxyCodeLine{160         r = 0;}
\DoxyCodeLine{161     \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{162 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_abadfdc02ae37afa3fc371a15c0090e61}\label{logica_8h_abadfdc02ae37afa3fc371a15c0090e61}} 
\index{logica.h@{logica.h}!ler\_tab@{ler\_tab}}
\index{ler\_tab@{ler\_tab}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{ler\_tab()}{ler\_tab()}}
{\footnotesize\ttfamily void ler\+\_\+tab (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{char $\ast$}]{linha }\end{DoxyParamCaption})}



Função que atualiza os dados do jogo ao ler o ficheiro. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
{\em linha} & Linha obtida na função \char`\"{}ler\+\_\+ficheiro()\char`\"{}. \\
\hline
\end{DoxyParams}


Definido na linha 164 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{164                                      \{}
\DoxyCodeLine{165     \textcolor{keywordtype}{int} col, lin, col2, lin2;}
\DoxyCodeLine{166     \textcolor{keywordtype}{char} *linha2, *cords;}
\DoxyCodeLine{167     \textcolor{keywordtype}{int} i;}
\DoxyCodeLine{168     strtok(linha, \textcolor{stringliteral}{" "});}
\DoxyCodeLine{169     linha2 = strtok  (NULL, \textcolor{stringliteral}{"\(\backslash\)n"});}
\DoxyCodeLine{170     \textcolor{keywordflow}{for} (i = 0; linha2[i] != \textcolor{charliteral}{'\(\backslash\)0'}; i++);}
\DoxyCodeLine{171     strtok(linha2, \textcolor{stringliteral}{" "});}
\DoxyCodeLine{172     cords = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)n"});}
\DoxyCodeLine{173     \textcolor{keywordflow}{if} (i > 2) \{}
\DoxyCodeLine{174         col = \mbox{\hyperlink{logica_8h_a00a35418e9e9a6c215b653dceb822a03}{retira\_coluna}}(linha2);}
\DoxyCodeLine{175         lin = abs(\mbox{\hyperlink{logica_8h_a224bb3db996c2f3baca3a72b8509c3ce}{retira\_linha}}(linha2)-\/8) -\/ 1;}
\DoxyCodeLine{176         col2 = \mbox{\hyperlink{logica_8h_a00a35418e9e9a6c215b653dceb822a03}{retira\_coluna}}(cords);}
\DoxyCodeLine{177         lin2 = abs(\mbox{\hyperlink{logica_8h_a224bb3db996c2f3baca3a72b8509c3ce}{retira\_linha}}(cords)-\/8) -\/ 1;}
\DoxyCodeLine{178         \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} coord = \{col,lin\};}
\DoxyCodeLine{179         \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(e,coord);}
\DoxyCodeLine{180         \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} coord2 = \{col2, lin2\};}
\DoxyCodeLine{181         \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(e, coord2);}
\DoxyCodeLine{182     \}}
\DoxyCodeLine{183     \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{184         col = \mbox{\hyperlink{logica_8h_a00a35418e9e9a6c215b653dceb822a03}{retira\_coluna}}(linha2);}
\DoxyCodeLine{185         lin = abs(\mbox{\hyperlink{logica_8h_a224bb3db996c2f3baca3a72b8509c3ce}{retira\_linha}}(linha2)-\/8) -\/ 1;}
\DoxyCodeLine{186         \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} coord = \{col,lin\};}
\DoxyCodeLine{187         \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(e,coord);}
\DoxyCodeLine{188     \}}
\DoxyCodeLine{189 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a87984bf05c623849f7e349ba8060ebdd}\label{logica_8h_a87984bf05c623849f7e349ba8060ebdd}} 
\index{logica.h@{logica.h}!negamax@{negamax}}
\index{negamax@{negamax}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{negamax()}{negamax()}}
{\footnotesize\ttfamily int negamax (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{int}]{depth,  }\item[{int}]{player }\end{DoxyParamCaption})}



Variação do algoritmo \char`\"{}minimax\char`\"{}. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Cópia do estado do jogo. \\
\hline
{\em depth} & Profundidade. \\
\hline
{\em player} & Varia entre -\/1 e 1, dependendo de quem e a vez de jogar. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Score da posição onde a peça se encontra. 
\end{DoxyReturn}
\begin{quote}
Caso a depth seja = 0 ou esteja em posição terminal do jogo, da return do score (caso de paragem da função recursiva). \end{quote}


\begin{quote}
Analisa todas as peças possíveis e escolhe aquela que levar o jogador ao melhor score. \end{quote}


Definido na linha 318 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{318                                                \{}
\DoxyCodeLine{319     \textcolor{keywordtype}{int} bestScore = INT\_MIN, score;}
\DoxyCodeLine{320     \mbox{\hyperlink{structnodo}{LISTA}} L = \mbox{\hyperlink{lista_8h_ae3b99323b6f8f35d80bb69ff1a27985e}{criar\_lista}}();}
\DoxyCodeLine{321     L = \mbox{\hyperlink{lista_8h_a0b56764e73eb24ca541210236e5ee307}{add\_livres}}(e, L);}
\DoxyCodeLine{323     \textcolor{keywordflow}{if} (depth == 0 || \mbox{\hyperlink{logica_8h_aea1fcb269536a2b7ee0d12518887cd09}{jogo\_terminado}}(e)) \{}
\DoxyCodeLine{324         \textcolor{keywordflow}{return} (\mbox{\hyperlink{logica_8h_a2b0f98e3493bc14d0f07d5ba5790c3bb}{scores}}(e)*player);}
\DoxyCodeLine{325     \}}
\DoxyCodeLine{327     \textcolor{keywordflow}{while} (\mbox{\hyperlink{lista_8h_a4c10928f7acaa4e3de3760cea0dfd9c0}{lista\_esta\_vazia}}(L) != 1) \{}
\DoxyCodeLine{328         \mbox{\hyperlink{struct_e_s_t_a_d_o}{ESTADO}} *aux = \mbox{\hyperlink{dados_8h_a7e0c7e26fb685d9ab501e19b05e6954f}{inicializar\_estado}}();}
\DoxyCodeLine{329         \mbox{\hyperlink{dados_8h_a3815d005d1762c547d70d3198048e7d3}{copyStruct}}(e, aux);}
\DoxyCodeLine{330         \textcolor{keywordtype}{char} *str = (\textcolor{keywordtype}{char} *) \mbox{\hyperlink{lista_8h_abfcb205f3eb670157be0d1221021714b}{devolve\_cabeca}}(L);}
\DoxyCodeLine{331         \mbox{\hyperlink{struct_c_o_o_r_d_e_n_a_d_a}{COORDENADA}} jogada = \mbox{\hyperlink{logica_8h_a33c8928e31992541dd9cf0ce0e9f7d50}{get\_cords}}(str);}
\DoxyCodeLine{332         \textcolor{keywordflow}{if} (strncmp(str, \textcolor{stringliteral}{"0 7"}, 3) == 0 || strncmp (str, \textcolor{stringliteral}{"7 0"}, 3) == 0)}
\DoxyCodeLine{333             \textcolor{keywordflow}{return} (\mbox{\hyperlink{logica_8h_a2b0f98e3493bc14d0f07d5ba5790c3bb}{scores}}(e)*(player));}
\DoxyCodeLine{334 }
\DoxyCodeLine{335         \mbox{\hyperlink{logica_8h_ac313d7e553b1e2b5f266acb9bfff8141}{jogar}}(aux, jogada);}
\DoxyCodeLine{336         score = -\/\mbox{\hyperlink{logica_8h_a87984bf05c623849f7e349ba8060ebdd}{negamax}}(aux, depth -\/ 1, player * (-\/1));}
\DoxyCodeLine{337         free(aux);}
\DoxyCodeLine{338         \textcolor{keywordflow}{if} (score > bestScore)}
\DoxyCodeLine{339             bestScore = score;}
\DoxyCodeLine{340         L = \mbox{\hyperlink{lista_8h_a9026a681a68322b5ec7f07137b864cbd}{remove\_cabeca}}(L);}
\DoxyCodeLine{341     \}}
\DoxyCodeLine{342     \textcolor{keywordflow}{return} bestScore;}
\DoxyCodeLine{343 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_aec4a963a88af44348027ec7cf17ff47a}\label{logica_8h_aec4a963a88af44348027ec7cf17ff47a}} 
\index{logica.h@{logica.h}!pos@{pos}}
\index{pos@{pos}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{pos()}{pos()}}
{\footnotesize\ttfamily int pos (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{char $\ast$}]{linha }\end{DoxyParamCaption})}



Função para executar o comando \char`\"{}pos\char`\"{}. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
{\em linha} & Linha obtida pelo interpretador na camada \char`\"{}\+Interface\char`\"{}. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
1 caso a operação seja executada com sucesso, 0 caso não seja executada com sucesso. 
\end{DoxyReturn}
\begin{quote}
Extrai o algarismo que é introduzido após o comando \char`\"{}pos\char`\"{} (\char`\"{}pos 5\char`\"{}, extrai o \char`\"{}5\char`\"{}). \end{quote}


\begin{quote}
Verifica que o comando \char`\"{}pos\char`\"{} apenas está a ser introduzido a uma jogada anterior e não à jogada atual. \end{quote}


Definido na linha 217 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{217                                  \{}
\DoxyCodeLine{218     \textcolor{keywordtype}{char} *comando, *end;}
\DoxyCodeLine{219     \textcolor{keywordtype}{int} r, max = \mbox{\hyperlink{dados_8h_a9f2d95954ffa63c2f456e9481a883071}{obter\_max\_num\_jog}}(e);}
\DoxyCodeLine{220     strtok (linha, \textcolor{stringliteral}{" "});}
\DoxyCodeLine{221     comando = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)n"});}
\DoxyCodeLine{223     r = strtol (comando, \&end, 10);}
\DoxyCodeLine{225     \textcolor{keywordflow}{if} (r < max + 1) \{}
\DoxyCodeLine{226         \mbox{\hyperlink{dados_8h_a72bd3fb56f0ac3af60c392b49f76a329}{pos\_helper}}(e, r);}
\DoxyCodeLine{227         \textcolor{keywordflow}{return} 1;}
\DoxyCodeLine{228     \}}
\DoxyCodeLine{229     \textcolor{keywordflow}{else}}
\DoxyCodeLine{230         \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{231 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a00a35418e9e9a6c215b653dceb822a03}\label{logica_8h_a00a35418e9e9a6c215b653dceb822a03}} 
\index{logica.h@{logica.h}!retira\_coluna@{retira\_coluna}}
\index{retira\_coluna@{retira\_coluna}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{retira\_coluna()}{retira\_coluna()}}
{\footnotesize\ttfamily int retira\+\_\+coluna (\begin{DoxyParamCaption}\item[{char}]{str\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Converte a string no formato de dados do ficheiro criado pelo utilizador para um inteiro correspondente à coluna. 


\begin{DoxyParams}{Parâmetros}
{\em str} & String de onde vao ser tirados os dados. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Uma posição para a coluna do tabuleiro. 
\end{DoxyReturn}


Definido na linha 205 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{205                                \{}
\DoxyCodeLine{206     \textcolor{keywordtype}{int} cord;}
\DoxyCodeLine{207     \textcolor{comment}{//Quando a função isalpha() retornar algum valor diferente de 0, converte-\/o num int e devolve-\/o.f}}
\DoxyCodeLine{208     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; str[i] != \textcolor{charliteral}{'\(\backslash\)0'}; i++) \{}
\DoxyCodeLine{209         \textcolor{keywordflow}{if} (isalpha(str[i]) != 0) \{}
\DoxyCodeLine{210             cord = str[i] -\/ \textcolor{charliteral}{'a'};}
\DoxyCodeLine{211             \textcolor{keywordflow}{return} cord;}
\DoxyCodeLine{212         \}}
\DoxyCodeLine{213     \}}
\DoxyCodeLine{214     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{215 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a224bb3db996c2f3baca3a72b8509c3ce}\label{logica_8h_a224bb3db996c2f3baca3a72b8509c3ce}} 
\index{logica.h@{logica.h}!retira\_linha@{retira\_linha}}
\index{retira\_linha@{retira\_linha}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{retira\_linha()}{retira\_linha()}}
{\footnotesize\ttfamily int retira\+\_\+linha (\begin{DoxyParamCaption}\item[{char}]{str\mbox{[}$\,$\mbox{]} }\end{DoxyParamCaption})}



Converte a string no formato de dados do ficheiro criado pelo utilizador para um inteiro correspondente à linha. 


\begin{DoxyParams}{Parâmetros}
{\em str} & String de onde vao ser tirados os dados. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
Uma posição para a linha do tabuleiro. 
\end{DoxyReturn}


Definido na linha 191 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{191                               \{}
\DoxyCodeLine{192     \textcolor{keywordtype}{int} r = 0;}
\DoxyCodeLine{193     \textcolor{keywordtype}{char} *end;}
\DoxyCodeLine{194     \textcolor{comment}{//Quando enconrtar algum elemento da string para a qual a funcao isdigit() devolva algum valor diferente de 0, converte-\/o num int e devolve-\/o.}}
\DoxyCodeLine{195     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; str[i] != \textcolor{charliteral}{'\(\backslash\)0'}; i++) \{}
\DoxyCodeLine{196         \textcolor{keywordflow}{if} (isdigit(str[i]) != 0) \{}
\DoxyCodeLine{197            r = strtol(\&str[i], \&end, 10);}
\DoxyCodeLine{198            r = abs(r-\/8);}
\DoxyCodeLine{199            \textcolor{keywordflow}{return} r;}
\DoxyCodeLine{200         \}}
\DoxyCodeLine{201     \}}
\DoxyCodeLine{202     \textcolor{keywordflow}{return} 0;}
\DoxyCodeLine{203 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_a2b0f98e3493bc14d0f07d5ba5790c3bb}\label{logica_8h_a2b0f98e3493bc14d0f07d5ba5790c3bb}} 
\index{logica.h@{logica.h}!scores@{scores}}
\index{scores@{scores}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{scores()}{scores()}}
{\footnotesize\ttfamily int scores (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e }\end{DoxyParamCaption})}



Atribui uma pontuação a cada uma das casas do tabuleiro. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado atual do jogo. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Retorna}
A pontuação final. 
\end{DoxyReturn}
\begin{quote}
Cria uma tabela com os scores. O score de uma dada casa é atribuido ao valor de (linha -\/ coluna) de cada uma das casas. \end{quote}


\begin{quote}
Ao detetar em que posição do tabuleiro está a peça branca, dá return do score atribuido a essa posiçao. \end{quote}


Definido na linha 243 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{243                       \{}
\DoxyCodeLine{246     \textcolor{keywordtype}{int} tabela[8][8], score = 0;}
\DoxyCodeLine{247     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 8; i++) \{}
\DoxyCodeLine{248         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++) \{}
\DoxyCodeLine{249             tabela[i][j] = i-\/j;}
\DoxyCodeLine{250         \}}
\DoxyCodeLine{251     \}}
\DoxyCodeLine{253     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 8; i++) \{}
\DoxyCodeLine{254         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} j = 0; j < 8; j++) \{}
\DoxyCodeLine{255             \textcolor{keywordflow}{if} (\mbox{\hyperlink{dados_8h_ad4e371755c518dbe632dc8cb1280cdad}{obter\_casa}}(e, i, j) == BRANCA)}
\DoxyCodeLine{256                 score = tabela[i][j];}
\DoxyCodeLine{257         \}}
\DoxyCodeLine{258     \}}
\DoxyCodeLine{259     \textcolor{keywordflow}{return} score;}
\DoxyCodeLine{260 \}}

\end{DoxyCode}
\mbox{\Hypertarget{logica_8h_ab69d463df342757a679a40c4f6e5d6ae}\label{logica_8h_ab69d463df342757a679a40c4f6e5d6ae}} 
\index{logica.h@{logica.h}!tabuleiro\_ficheiro@{tabuleiro\_ficheiro}}
\index{tabuleiro\_ficheiro@{tabuleiro\_ficheiro}!logica.h@{logica.h}}
\doxysubsubsection{\texorpdfstring{tabuleiro\_ficheiro()}{tabuleiro\_ficheiro()}}
{\footnotesize\ttfamily void tabuleiro\+\_\+ficheiro (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{struct_e_s_t_a_d_o}{E\+S\+T\+A\+DO}} $\ast$}]{e,  }\item[{char $\ast$}]{linha }\end{DoxyParamCaption})}



Coloca o tabuleiro e o estado do jogo num ficheiro. 


\begin{DoxyParams}{Parâmetros}
{\em e} & Estado do jogo. \\
\hline
{\em linha} & Nome do ficheiro onde vai ser guardado o estado. \\
\hline
\end{DoxyParams}
\begin{quote}
Copia o nome do ficheiro presente na string \char`\"{}linha\char`\"{} e coloca na string \char`\"{}comando\char`\"{}, e concatena \char`\"{}.\+txt\char`\"{} no final. \end{quote}


\begin{quote}
Cria o ficheiro com o nome pedido pelo utilizador, ou abre-\/o, caso este ja exista. \end{quote}


Definido na linha 118 do ficheiro logica.\+c.


\begin{DoxyCode}{0}
\DoxyCodeLine{118                                                 \{}
\DoxyCodeLine{119     \textcolor{keywordtype}{char} *comando;}
\DoxyCodeLine{121     strtok(linha, \textcolor{stringliteral}{" "});}
\DoxyCodeLine{122     comando = strtok(NULL, \textcolor{stringliteral}{"\(\backslash\)n"});}
\DoxyCodeLine{123 }
\DoxyCodeLine{124 }
\DoxyCodeLine{126     FILE *fp;}
\DoxyCodeLine{127     fp = fopen(comando, \textcolor{stringliteral}{"w"});}
\DoxyCodeLine{128     \mbox{\hyperlink{interface_8h_aa36b92ddb3d9b1fdb93d8524262ee66c}{imprime\_fileTab}}(e, fp);}
\DoxyCodeLine{129     \mbox{\hyperlink{interface_8h_acb7c3a1d861395fabd4db18a365738b9}{file\_posAnt}}(e, fp);}
\DoxyCodeLine{130     fclose(fp);}
\DoxyCodeLine{131 \}}

\end{DoxyCode}
